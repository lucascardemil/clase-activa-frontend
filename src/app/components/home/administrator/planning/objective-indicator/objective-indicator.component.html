<div [formGroup]="planningAddObjectiveIndicator">
    <div class="mb-3">
        <input class="form-control" list="datalistUnitsIndicators" formControlName="select_unit" [ngClass]="(select_unit?.touched || select_unit?.dirty) && select_unit?.hasError('required') ? 'is-invalid' : '' || 
                            ((select_unit?.touched || select_unit?.dirty) && !select_unit?.invalid) ? 'is-valid' : ''"
            placeholder="Buscar la Unidad" (input)="onInputUnitsIndicators($event)">
        <datalist id="datalistUnitsIndicators">
            <option *ngFor="let unit of select_units" [value]="unit.name" [id]="unit.id">
        </datalist>

        <div class="invalid-feedback">
            {{ select_unit?.hasError('required') ? 'La unidad es requerida' : '' }}
        </div>
    </div>
    <div class="mb-3">
        <div class="row container-scroll" [ngClass]="{'scroll': checkbox_objectives_indicators.length > 10}" (scroll)="onScroll($event)">
            <div class="col-2">
                <div class="form-check" *ngFor="let objective of checkbox_objectives_indicators">
                    <input class="form-check-input" type="checkbox" formControlName="objective_indicator"
                        [id]="objective.id" (click)="checkBox($event)">
                    <label class="form-check-label" [for]="objective.id"
                        (mouseover)="previewIndicators(objective.name)">{{
                        objective.oa }}
                    </label>

                </div>
            </div>
            <div class="col w-100 text-preview" #stickyElement>
                <div class="shadow-none p-3 bg-light rounded">{{ text_indicator }}</div>
            </div>
        </div>
    </div>

    <div class="mb-3">
        <textarea class="form-control" formControlName="indicator" [ngClass]="(indicator?.touched || indicator?.dirty) && indicator?.hasError('required') ? 'is-invalid' : '' || 
    ((indicator?.touched || indicator?.dirty) && !indicator?.invalid) ? 'is-valid' : ''" placeholder="Indicador"
            aria-label="Indicador"></textarea>

        <div class="invalid-feedback">
            {{ indicator?.hasError('required') ? 'El Indicador es requerido' : '' }}
        </div>
    </div>

    <button type="submit" class="btn btn-primary"
        (click)="savePlanningObjectiveIndicator({id: checkboxs, unit: planningAddObjectiveIndicator.value.select_unit, indicator: planningAddObjectiveIndicator.value.indicator})"
        [disabled]="disabledButton([planningAddObjectiveIndicator.value.objective_indicator, planningAddObjectiveIndicator.value.select_unit, planningAddObjectiveIndicator.value.indicator])"><svg
            xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="feather feather-plus">
            <line x1="12" y1="5" x2="12" y2="19"></line>
            <line x1="5" y1="12" x2="19" y2="12"></line>
        </svg> Agregar</button>
</div>